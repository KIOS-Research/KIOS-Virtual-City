
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>basp.epamodule &#8212; KIOS BaSP 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for basp.epamodule</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Python EpanetToolkit interface</span>

<span class="sd">added function ENsimtime&quot;&quot;&quot;</span>


<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="kn">import</span> <span class="nn">platform</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">_plat</span><span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
<span class="k">if</span> <span class="n">_plat</span><span class="o">==</span><span class="s1">&#39;Linux&#39;</span><span class="p">:</span>
  <span class="n">_lib</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">CDLL</span><span class="p">(</span><span class="s2">&quot;libepanet2.so&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">_plat</span><span class="o">==</span><span class="s1">&#39;Windows&#39;</span><span class="p">:</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="c1"># if epanet2.dll compiled with __cdecl (as in OpenWaterAnalytics)</span>
    <span class="n">_lib</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">CDLL</span><span class="p">(</span><span class="s2">&quot;basp/epanet2x64.dll&quot;</span><span class="p">)</span>
    <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetversion</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()))</span>
  <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
     <span class="c1"># if epanet2.dll compiled with __stdcall (as in EPA original DLL)</span>
     <span class="k">try</span><span class="p">:</span>
       <span class="n">_lib</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">windll</span><span class="o">.</span><span class="n">epanet2</span>
       <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetversion</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()))</span>
     <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
       <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;epanet2.dll not suitable&quot;</span><span class="p">)</span>

<span class="k">else</span><span class="p">:</span>
  <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Platform &#39;</span><span class="o">+</span> <span class="n">_plat</span> <span class="o">+</span><span class="s1">&#39; unsupported (not yet)&#39;</span><span class="p">)</span>


<span class="n">_current_simulation_time</span><span class="o">=</span>  <span class="n">ctypes</span><span class="o">.</span><span class="n">c_long</span><span class="p">()</span>

<span class="n">_max_label_len</span><span class="o">=</span> <span class="mi">32</span>
<span class="n">_err_max_char</span><span class="o">=</span> <span class="mi">80</span>

<span class="c1">#/_lib = ctypes.CDLL(&quot;usr/src/app/EPANET-2.1/build/Linux/libepanet2.so&quot;)</span>
  




<div class="viewcode-block" id="ENepanet"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENepanet">[docs]</a><span class="k">def</span> <span class="nf">ENepanet</span><span class="p">(</span><span class="n">nomeinp</span><span class="p">,</span> <span class="n">nomerpt</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">nomebin</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">vfunc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Runs a complete EPANET simulation.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    nomeinp: name of the input file</span>
<span class="sd">    nomerpt: name of an output report file</span>
<span class="sd">    nomebin: name of an optional binary output file</span>
<span class="sd">    vfunc  : pointer to a user-supplied function which accepts a character string as its argument.&quot;&quot;&quot;</span>  
    <span class="k">if</span> <span class="n">vfunc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">CFUNC</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">CFUNCTYPE</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">)</span>
        <span class="n">callback</span><span class="o">=</span> <span class="n">CFUNC</span><span class="p">(</span><span class="n">vfunc</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">callback</span><span class="o">=</span> <span class="kc">None</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENepanet</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">nomeinp</span><span class="p">),</span>
                        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">nomerpt</span><span class="p">),</span>
                        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">nomebin</span><span class="p">),</span>
                        <span class="n">callback</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENopen"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENopen">[docs]</a><span class="k">def</span> <span class="nf">ENopen</span><span class="p">(</span><span class="n">nomeinp</span><span class="p">,</span> <span class="n">nomerpt</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">nomebin</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Opens the Toolkit to analyze a particular distribution system</span>

<span class="sd">    Arguments:</span>
<span class="sd">    nomeinp: name of the input file</span>
<span class="sd">    nomerpt: name of an output report file</span>
<span class="sd">    nomebin: name of an optional binary output file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENopen</span><span class="p">(</span><span class="n">nomeinp</span><span class="p">,</span> <span class="n">nomerpt</span><span class="p">,</span> <span class="n">nomebin</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>
    <span class="c1">#global inpname; inpname = nomeinp</span>


<div class="viewcode-block" id="ENclose"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENclose">[docs]</a><span class="k">def</span> <span class="nf">ENclose</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Closes down the Toolkit system (including all files being processed)&quot;&quot;&quot;</span>
  <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENclose</span><span class="p">()</span>
  <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENgetnodeindex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetnodeindex">[docs]</a><span class="k">def</span> <span class="nf">ENgetnodeindex</span><span class="p">(</span><span class="n">nodeid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the index of a node with a specified ID.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    nodeid: node ID label&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetnodeindex</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">nodeid</span><span class="o">.</span><span class="n">encode</span><span class="p">()),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetnodeid"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetnodeid">[docs]</a><span class="k">def</span> <span class="nf">ENgetnodeid</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the ID label of a node with a specified index.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index: node index&quot;&quot;&quot;</span>    
    <span class="n">label</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">_max_label_len</span><span class="p">)</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetnodeid</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">label</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">label</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetnodetype"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetnodetype">[docs]</a><span class="k">def</span> <span class="nf">ENgetnodetype</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the node-type code for a specific node.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index: node index&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetnodetype</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetnodevalue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetnodevalue">[docs]</a><span class="k">def</span> <span class="nf">ENgetnodevalue</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">paramcode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the value of a specific node parameter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index:     node index</span>
<span class="sd">    paramcode: Node parameter codes consist of the following constants:</span>
<span class="sd">                  EN_ELEVATION  Elevation</span>
<span class="sd">                  EN_BASEDEMAND ** Base demand</span>
<span class="sd">                  EN_PATTERN    ** Demand pattern index</span>
<span class="sd">                  EN_EMITTER    Emitter coeff.</span>
<span class="sd">                  EN_INITQUAL   Initial quality</span>
<span class="sd">                  EN_SOURCEQUAL Source quality</span>
<span class="sd">                  EN_SOURCEPAT  Source pattern index</span>
<span class="sd">                  EN_SOURCETYPE Source type (See note below)</span>
<span class="sd">                  EN_TANKLEVEL  Initial water level in tank</span>
<span class="sd">                  EN_DEMAND     * Actual demand</span>
<span class="sd">                  EN_HEAD       * Hydraulic head</span>
<span class="sd">                  EN_PRESSURE   * Pressure</span>
<span class="sd">                  EN_QUALITY    * Actual quality</span>
<span class="sd">                  EN_SOURCEMASS * Mass flow rate per minute of a chemical source</span>
<span class="sd">                    * computed values)</span>
<span class="sd">                   ** primary demand category is last on demand list</span>

<span class="sd">               The following parameter codes apply only to storage tank nodes:</span>
<span class="sd">                  EN_INITVOLUME  Initial water volume</span>
<span class="sd">                  EN_MIXMODEL    Mixing model code (see below)</span>
<span class="sd">                  EN_MIXZONEVOL  Inlet/Outlet zone volume in a 2-compartment tank</span>
<span class="sd">                  EN_TANKDIAM    Tank diameter</span>
<span class="sd">                  EN_MINVOLUME   Minimum water volume</span>
<span class="sd">                  EN_VOLCURVE    Index of volume versus depth curve (0 if none assigned)</span>
<span class="sd">                  EN_MINLEVEL    Minimum water level</span>
<span class="sd">                  EN_MAXLEVEL    Maximum water level</span>
<span class="sd">                  EN_MIXFRACTION Fraction of total volume occupied by the inlet/outlet zone in a 2-compartment tank</span>
<span class="sd">                  EN_TANK_KBULK  Bulk reaction rate coefficient&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">paramcode</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<span class="c1">##------</span>
<div class="viewcode-block" id="ENgetlinkindex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetlinkindex">[docs]</a><span class="k">def</span> <span class="nf">ENgetlinkindex</span><span class="p">(</span><span class="n">linkid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the index of a link with a specified ID.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    linkid: link ID label&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetlinkindex</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">linkid</span><span class="o">.</span><span class="n">encode</span><span class="p">()),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetlinkid"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetlinkid">[docs]</a><span class="k">def</span> <span class="nf">ENgetlinkid</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the ID label of a link with a specified index.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index: link index&quot;&quot;&quot;</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">_max_label_len</span><span class="p">)</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetlinkid</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">label</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">label</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetlinktype"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetlinktype">[docs]</a><span class="k">def</span> <span class="nf">ENgetlinktype</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the link-type code for a specific link.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index: link index&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetlinktype</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetlinknodes"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetlinknodes">[docs]</a><span class="k">def</span> <span class="nf">ENgetlinknodes</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the indexes of the end nodes of a specified link.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index: link index&quot;&quot;&quot;</span>
    <span class="n">j1</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">j2</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetlinknodes</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j1</span><span class="p">),</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j2</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j1</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">j2</span><span class="o">.</span><span class="n">value</span></div>

<div class="viewcode-block" id="ENgetlinkvalue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetlinkvalue">[docs]</a><span class="k">def</span> <span class="nf">ENgetlinkvalue</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">paramcode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the value of a specific link parameter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index:     link index</span>
<span class="sd">    paramcode: Link parameter codes consist of the following constants:</span>
<span class="sd">                 EN_DIAMETER     Diameter</span>
<span class="sd">                 EN_LENGTH       Length</span>
<span class="sd">                 EN_ROUGHNESS    Roughness coeff.</span>
<span class="sd">                 EN_MINORLOSS    Minor loss coeff.</span>
<span class="sd">                 EN_INITSTATUS   Initial link status (0 = closed, 1 = open)</span>
<span class="sd">                 EN_INITSETTING  Roughness for pipes, initial speed for pumps, initial setting for valves</span>
<span class="sd">                 EN_KBULK        Bulk reaction coeff.</span>
<span class="sd">                 EN_KWALL        Wall reaction coeff.</span>
<span class="sd">                 EN_FLOW         * Flow rate</span>
<span class="sd">                 EN_VELOCITY     * Flow velocity</span>
<span class="sd">                 EN_HEADLOSS     * Head loss</span>
<span class="sd">                 EN_STATUS       * Actual link status (0 = closed, 1 = open)</span>
<span class="sd">                 EN_SETTING      * Roughness for pipes, actual speed for pumps, actual setting for valves</span>
<span class="sd">                 EN_ENERGY       * Energy expended in kwatts</span>
<span class="sd">                   * computed values&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">paramcode</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>
<span class="c1">#------</span>

<div class="viewcode-block" id="ENgetpatternid"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetpatternid">[docs]</a><span class="k">def</span> <span class="nf">ENgetpatternid</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the ID label of a particular time pattern.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index: pattern index&quot;&quot;&quot;</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">_max_label_len</span><span class="p">)</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetpatternid</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">label</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">label</span><span class="o">.</span><span class="n">value</span></div>

<div class="viewcode-block" id="ENgetpatternindex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetpatternindex">[docs]</a><span class="k">def</span> <span class="nf">ENgetpatternindex</span><span class="p">(</span><span class="n">patternid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the index of a particular time pattern.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    id: pattern ID label&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetpatternindex</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">patternid</span><span class="o">.</span><span class="n">encode</span><span class="p">()),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetpatternlen"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetpatternlen">[docs]</a><span class="k">def</span> <span class="nf">ENgetpatternlen</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the number of time periods in a specific time pattern.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index:pattern index&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetpatternlen</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetpatternvalue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetpatternvalue">[docs]</a><span class="k">def</span> <span class="nf">ENgetpatternvalue</span><span class="p">(</span> <span class="n">index</span><span class="p">,</span> <span class="n">period</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the multiplier factor for a specific time period in a time pattern.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    index:  time pattern index</span>
<span class="sd">    period: period within time pattern&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetpatternvalue</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>



<div class="viewcode-block" id="ENgetcount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetcount">[docs]</a><span class="k">def</span> <span class="nf">ENgetcount</span><span class="p">(</span><span class="n">countcode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the number of network components of a specified type.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    countcode: component code EN_NODECOUNT</span>
<span class="sd">                              EN_TANKCOUNT</span>
<span class="sd">                              EN_LINKCOUNT</span>
<span class="sd">                              EN_PATCOUNT</span>
<span class="sd">                              EN_CURVECOUNT</span>
<span class="sd">                              EN_CONTROLCOUNT&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetcount</span><span class="p">(</span><span class="n">countcode</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENgetflowunits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetflowunits">[docs]</a><span class="k">def</span> <span class="nf">ENgetflowunits</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Retrieves a code number indicating the units used to express all flow rates.&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetflowunits</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span>    </div>


<div class="viewcode-block" id="ENgettimeparam"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgettimeparam">[docs]</a><span class="k">def</span> <span class="nf">ENgettimeparam</span><span class="p">(</span><span class="n">paramcode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the value of a specific analysis time parameter.</span>
<span class="sd">    Arguments:</span>
<span class="sd">    paramcode: EN_DURATION     </span>
<span class="sd">               EN_HYDSTEP</span>
<span class="sd">               EN_QUALSTEP</span>
<span class="sd">               EN_PATTERNSTEP</span>
<span class="sd">               EN_PATTERNSTART</span>
<span class="sd">               EN_REPORTSTEP</span>
<span class="sd">               EN_REPORTSTART</span>
<span class="sd">               EN_RULESTEP</span>
<span class="sd">               EN_STATISTIC</span>
<span class="sd">               EN_PERIODS&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">paramcode</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>
    
<div class="viewcode-block" id="ENgetqualtype"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetqualtype">[docs]</a><span class="k">def</span>  <span class="nf">ENgetqualtype</span><span class="p">(</span><span class="n">qualcode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the type of water quality analysis called for</span>
<span class="sd">    returns  qualcode: Water quality analysis codes are as follows:</span>
<span class="sd">                       EN_NONE	0 No quality analysis</span>
<span class="sd">                       EN_CHEM	1 Chemical analysis</span>
<span class="sd">                       EN_AGE 	2 Water age analysis</span>
<span class="sd">                       EN_TRACE	3 Source tracing</span>
<span class="sd">             tracenode:	index of node traced in a source tracing</span>
<span class="sd">	                analysis  (value will be 0 when qualcode</span>
<span class="sd">			is not EN_TRACE)&quot;&quot;&quot;</span>
    <span class="n">qualcode</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">tracenode</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetqualtype</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">qualcode</span><span class="p">),</span>
                             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">tracenode</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">qualcode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">tracenode</span><span class="o">.</span><span class="n">value</span></div>



<span class="c1">#-------Retrieving other network information--------</span>
<div class="viewcode-block" id="ENgetcontrol"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetcontrol">[docs]</a><span class="k">def</span> <span class="nf">ENgetcontrol</span><span class="p">(</span><span class="n">cindex</span><span class="p">,</span> <span class="n">ctype</span><span class="p">,</span> <span class="n">lindex</span><span class="p">,</span> <span class="n">setting</span><span class="p">,</span> <span class="n">nindex</span><span class="p">,</span> <span class="n">level</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the parameters of a simple control statement.</span>
<span class="sd">    Arguments:</span>
<span class="sd">       cindex:  control statement index</span>
<span class="sd">       ctype:   control type code EN_LOWLEVEL   (Low Level Control)</span>
<span class="sd">                                  EN_HILEVEL    (High Level Control)</span>
<span class="sd">                                  EN_TIMER      (Timer Control)       </span>
<span class="sd">                                  EN_TIMEOFDAY  (Time-of-Day Control)</span>
<span class="sd">       lindex:  index of link being controlled</span>
<span class="sd">       setting: value of the control setting</span>
<span class="sd">       nindex:  index of controlling node</span>
<span class="sd">       level:   value of controlling water level or pressure for level controls </span>
<span class="sd">                or of time of control action (in seconds) for time-based controls&quot;&quot;&quot;</span>
    <span class="c1">#int ENgetcontrol(int cindex, int* ctype, int* lindex, float* setting, int* nindex, float* level )</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetcontrol</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">cindex</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">ctype</span><span class="p">),</span> 
                            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">lindex</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">setting</span><span class="p">),</span> 
                            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">nindex</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENgetoption"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetoption">[docs]</a><span class="k">def</span> <span class="nf">ENgetoption</span><span class="p">(</span><span class="n">optioncode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the value of a particular analysis option.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    optioncode: EN_TRIALS       </span>
<span class="sd">                EN_ACCURACY </span>
<span class="sd">                EN_TOLERANCE </span>
<span class="sd">                EN_EMITEXPON </span>
<span class="sd">                EN_DEMANDMULT&quot;&quot;&quot;</span> 
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetoption</span><span class="p">(</span><span class="n">optioncode</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>

<div class="viewcode-block" id="ENgetversion"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetversion">[docs]</a><span class="k">def</span> <span class="nf">ENgetversion</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the current version number of the Toolkit.&quot;&quot;&quot;</span>
    <span class="n">j</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetversion</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">j</span><span class="o">.</span><span class="n">value</span></div>



<span class="c1">#---------Setting new values for network parameters-------------</span>
<div class="viewcode-block" id="ENsetcontrol"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetcontrol">[docs]</a><span class="k">def</span> <span class="nf">ENsetcontrol</span><span class="p">(</span><span class="n">cindex</span><span class="p">,</span> <span class="n">ctype</span><span class="p">,</span> <span class="n">lindex</span><span class="p">,</span> <span class="n">setting</span><span class="p">,</span> <span class="n">nindex</span><span class="p">,</span> <span class="n">level</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the parameters of a simple control statement.</span>
<span class="sd">    Arguments:</span>
<span class="sd">       cindex:  control statement index</span>
<span class="sd">       ctype:   control type code  EN_LOWLEVEL   (Low Level Control)</span>
<span class="sd">                                   EN_HILEVEL    (High Level Control)  </span>
<span class="sd">                                   EN_TIMER      (Timer Control)       </span>
<span class="sd">                                   EN_TIMEOFDAY  (Time-of-Day Control)</span>
<span class="sd">       lindex:  index of link being controlled</span>
<span class="sd">       setting: value of the control setting</span>
<span class="sd">       nindex:  index of controlling node</span>
<span class="sd">       level:   value of controlling water level or pressure for level controls</span>
<span class="sd">                or of time of control action (in seconds) for time-based controls&quot;&quot;&quot;</span>
    <span class="c1">#int ENsetcontrol(int cindex, int* ctype, int* lindex, float* setting, int* nindex, float* level )</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetcontrol</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">cindex</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">ctype</span><span class="p">),</span>
                            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">lindex</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">setting</span><span class="p">),</span> 
                            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">nindex</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsetnodevalue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetnodevalue">[docs]</a><span class="k">def</span> <span class="nf">ENsetnodevalue</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">paramcode</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the value of a parameter for a specific node.</span>
<span class="sd">    Arguments:</span>
<span class="sd">    index:  node index</span>
<span class="sd">    paramcode: Node parameter codes consist of the following constants:</span>
<span class="sd">                  EN_ELEVATION  Elevation</span>
<span class="sd">                  EN_BASEDEMAND ** Base demand</span>
<span class="sd">                  EN_PATTERN    ** Demand pattern index</span>
<span class="sd">                  EN_EMITTER    Emitter coeff.</span>
<span class="sd">                  EN_INITQUAL   Initial quality</span>
<span class="sd">                  EN_SOURCEQUAL Source quality</span>
<span class="sd">                  EN_SOURCEPAT  Source pattern index</span>
<span class="sd">                  EN_SOURCETYPE Source type (See note below)</span>
<span class="sd">                  EN_TANKLEVEL  Initial water level in tank</span>
<span class="sd">                       ** primary demand category is last on demand list</span>
<span class="sd">               The following parameter codes apply only to storage tank nodes</span>
<span class="sd">                  EN_TANKDIAM      Tank diameter</span>
<span class="sd">                  EN_MINVOLUME     Minimum water volume</span>
<span class="sd">                  EN_MINLEVEL      Minimum water level</span>
<span class="sd">                  EN_MAXLEVEL      Maximum water level</span>
<span class="sd">                  EN_MIXMODEL      Mixing model code</span>
<span class="sd">                  EN_MIXFRACTION   Fraction of total volume occupied by the inlet/outlet</span>
<span class="sd">                  EN_TANK_KBULK    Bulk reaction rate coefficient</span>
<span class="sd">    value:parameter value&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">paramcode</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsetlinkvalue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetlinkvalue">[docs]</a><span class="k">def</span> <span class="nf">ENsetlinkvalue</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">paramcode</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the value of a parameter for a specific link.</span>
<span class="sd">    Arguments:</span>
<span class="sd">    index:  link index</span>
<span class="sd">    paramcode: Link parameter codes consist of the following constants:</span>
<span class="sd">                 EN_DIAMETER     Diameter</span>
<span class="sd">                 EN_LENGTH       Length</span>
<span class="sd">                 EN_ROUGHNESS    Roughness coeff.</span>
<span class="sd">                 EN_MINORLOSS    Minor loss coeff.</span>
<span class="sd">                 EN_INITSTATUS   * Initial link status (0 = closed, 1 = open)</span>
<span class="sd">                 EN_INITSETTING  * Roughness for pipes, initial speed for pumps, initial setting for valves</span>
<span class="sd">                 EN_KBULK        Bulk reaction coeff.</span>
<span class="sd">                 EN_KWALL        Wall reaction coeff.</span>
<span class="sd">                 EN_STATUS       * Actual link status (0 = closed, 1 = open)</span>
<span class="sd">                 EN_SETTING      * Roughness for pipes, actual speed for pumps, actual setting for valves</span>
<span class="sd">                 * Use EN_INITSTATUS and EN_INITSETTING to set the design value for a link&#39;s status or setting that </span>
<span class="sd">                   exists prior to the start of a simulation. Use EN_STATUS and EN_SETTING to change these values while </span>
<span class="sd">                   a simulation is being run (within the ENrunH - ENnextH loop).</span>

<span class="sd">    value:parameter value&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> 
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">paramcode</span><span class="p">),</span> 
			      <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENaddpattern"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENaddpattern">[docs]</a><span class="k">def</span> <span class="nf">ENaddpattern</span><span class="p">(</span><span class="n">patternid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Adds a new time pattern to the network.</span>
<span class="sd">    Arguments:</span>
<span class="sd">      id: ID label of pattern&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENaddpattern</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">patternid</span><span class="o">.</span><span class="n">encode</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsetpattern"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetpattern">[docs]</a><span class="k">def</span> <span class="nf">ENsetpattern</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">factors</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets all of the multiplier factors for a specific time pattern.</span>
<span class="sd">    Arguments:</span>
<span class="sd">    index:    time pattern index</span>
<span class="sd">    factors:  multiplier factors list for the entire pattern&quot;&quot;&quot;</span>
    <span class="c1"># int ENsetpattern( int index, float* factors, int nfactors )</span>
    <span class="n">nfactors</span><span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">factors</span><span class="p">)</span>
    <span class="n">cfactors_type</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="o">*</span> <span class="n">nfactors</span>
    <span class="n">cfactors</span><span class="o">=</span> <span class="n">cfactors_type</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nfactors</span><span class="p">):</span>
       <span class="n">cfactors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">factors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">)</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetpattern</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">cfactors</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">nfactors</span><span class="p">)</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsetpatternvalue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetpatternvalue">[docs]</a><span class="k">def</span> <span class="nf">ENsetpatternvalue</span><span class="p">(</span> <span class="n">index</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the multiplier factor for a specific period within a time pattern.</span>
<span class="sd">    Arguments:</span>
<span class="sd">       index: time pattern index</span>
<span class="sd">       period: period within time pattern</span>
<span class="sd">       value:  multiplier factor for the period&quot;&quot;&quot;</span>
    <span class="c1">#int ENsetpatternvalue( int index, int period, float value )</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetpatternvalue</span><span class="p">(</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> 
                                  <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">period</span><span class="p">),</span> 
				  <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>
 
 

<div class="viewcode-block" id="ENsetqualtype"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetqualtype">[docs]</a><span class="k">def</span> <span class="nf">ENsetqualtype</span><span class="p">(</span><span class="n">qualcode</span><span class="p">,</span> <span class="n">chemname</span><span class="p">,</span> <span class="n">chemunits</span><span class="p">,</span> <span class="n">tracenode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the type of water quality analysis called for.</span>
<span class="sd">    Arguments:</span>
<span class="sd">         qualcode:	water quality analysis code</span>
<span class="sd">         chemname:	name of the chemical being analyzed</span>
<span class="sd">         chemunits:	units that the chemical is measured in</span>
<span class="sd">         tracenode:	ID of node traced in a source tracing analysis &quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetqualtype</span><span class="p">(</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">qualcode</span><span class="p">),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">chemname</span><span class="o">.</span><span class="n">encode</span><span class="p">()),</span>
			      <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">chemunits</span><span class="o">.</span><span class="n">encode</span><span class="p">()),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">tracenode</span><span class="o">.</span><span class="n">encode</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsettimeparam"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsettimeparam">[docs]</a><span class="k">def</span>  <span class="nf">ENsettimeparam</span><span class="p">(</span><span class="n">paramcode</span><span class="p">,</span> <span class="n">timevalue</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the value of a time parameter.</span>
<span class="sd">    Arguments:</span>
<span class="sd">      paramcode: time parameter code EN_DURATION</span>
<span class="sd">                                     EN_HYDSTEP</span>
<span class="sd">                                     EN_QUALSTEP</span>
<span class="sd">                                     EN_PATTERNSTEP</span>
<span class="sd">                                     EN_PATTERNSTART</span>
<span class="sd">                                     EN_REPORTSTEP</span>
<span class="sd">                                     EN_REPORTSTART</span>
<span class="sd">                                     EN_RULESTEP</span>
<span class="sd">                                     EN_STATISTIC</span>
<span class="sd">                                     EN_PERIODS</span>
<span class="sd">      timevalue: value of time parameter in seconds</span>
<span class="sd">                      The codes for EN_STATISTIC are:</span>
<span class="sd">                      EN_NONE     none</span>
<span class="sd">                      EN_AVERAGE  averaged</span>
<span class="sd">                      EN_MINIMUM  minimums</span>
<span class="sd">                      EN_MAXIMUM  maximums</span>
<span class="sd">                      EN_RANGE    ranges&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsettimeparam</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">paramcode</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timevalue</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsetoption"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetoption">[docs]</a><span class="k">def</span> <span class="nf">ENsetoption</span><span class="p">(</span> <span class="n">optioncode</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the value of a particular analysis option.</span>

<span class="sd">    Arguments:</span>
<span class="sd">      optioncode: option code EN_TRIALS</span>
<span class="sd">                              EN_ACCURACY  </span>
<span class="sd">                              EN_TOLERANCE </span>
<span class="sd">                              EN_EMITEXPON </span>
<span class="sd">                              EN_DEMANDMULT</span>
<span class="sd">      value:  option value&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetoption</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">paramcode</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<span class="c1">#----- Saving and using hydraulic analysis results files -------</span>
<div class="viewcode-block" id="ENsavehydfile"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsavehydfile">[docs]</a><span class="k">def</span> <span class="nf">ENsavehydfile</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Saves the current contents of the binary hydraulics file to a file.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsavehydfile</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">fname</span><span class="o">.</span><span class="n">encode</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ENusehydfile"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENusehydfile">[docs]</a><span class="k">def</span>  <span class="nf">ENusehydfile</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Uses the contents of the specified file as the current binary hydraulics file&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENusehydfile</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">fname</span><span class="o">.</span><span class="n">encode</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<span class="c1"># EpaClass</span>

<div class="viewcode-block" id="LoadInpFile"><a class="viewcode-back" href="../../basp.html#basp.epamodule.LoadInpFile">[docs]</a><span class="k">def</span> <span class="nf">LoadInpFile</span><span class="p">(</span><span class="n">nomeinp</span><span class="p">,</span> <span class="n">nomerpt</span><span class="p">,</span> <span class="n">nomebin</span><span class="p">):</span>
    <span class="c1">#nomerpt=nomeinp[:len(nomeinp)-4]+&#39;.txt&#39;</span>
    <span class="c1">#nomebin=nomeinp[:len(nomeinp)-4]+&#39;.bin&#39;</span>
    <span class="n">ENopen</span><span class="p">(</span><span class="n">nomeinp</span><span class="p">,</span> <span class="n">nomerpt</span><span class="p">,</span> <span class="n">nomebin</span><span class="p">)</span></div>

<div class="viewcode-block" id="unload"><a class="viewcode-back" href="../../basp.html#basp.epamodule.unload">[docs]</a><span class="k">def</span> <span class="nf">unload</span><span class="p">():</span>
    <span class="n">ENclose</span><span class="p">()</span></div>

<div class="viewcode-block" id="getFunctionsImplement"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getFunctionsImplement">[docs]</a><span class="k">def</span> <span class="nf">getFunctionsImplement</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">epanet</span> <span class="k">as</span> <span class="nn">d</span>
    <span class="n">otherFunctions</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">ENfunctions</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">allfunctions</span><span class="o">=</span><span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">allfunctions</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">allfunctions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;EN&#39;</span><span class="p">:</span>
            <span class="n">ENfunctions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">allfunctions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">otherFunctions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">allfunctions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">ENfunctions</span><span class="p">,</span> <span class="n">otherFunctions</span><span class="p">]</span></div>

<span class="c1">## Get type of the parameters</span>
<div class="viewcode-block" id="getLinkTypeIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkTypeIndex">[docs]</a><span class="k">def</span> <span class="nf">getLinkTypeIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the link-type code for all links.</span>
    <span class="n">LinkTypeIndex</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">LinkTypeIndex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinktype</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">LinkTypeIndex</span></div>

<div class="viewcode-block" id="getLinkType"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkType">[docs]</a><span class="k">def</span> <span class="nf">getLinkType</span><span class="p">():</span>
    <span class="c1">#Retrieves the link-type code for all links.</span>
    <span class="n">LinkType</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">LinkTypeIndex</span><span class="o">=</span><span class="n">getLinkTypeIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">LinkType</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TYPELINK</span><span class="p">[</span><span class="n">LinkTypeIndex</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
    <span class="k">return</span> <span class="n">LinkType</span></div>

<div class="viewcode-block" id="getNodeTypeIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTypeIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeTypeIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the node-type code for all nodes.</span>
    <span class="n">NodeTypeIndex</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">NodeTypeIndex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodetype</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">NodeTypeIndex</span></div>

<div class="viewcode-block" id="getNodeType"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeType">[docs]</a><span class="k">def</span> <span class="nf">getNodeType</span><span class="p">():</span>
    <span class="c1">#Retrieves the link-type code for all links.</span>
    <span class="n">NodeType</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">NodeTypeIndex</span><span class="o">=</span><span class="n">getNodeTypeIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="n">NodeType</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TYPENODE</span><span class="p">[</span><span class="n">NodeTypeIndex</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
    <span class="k">return</span> <span class="n">NodeType</span></div>

<span class="c1">## Get all the countable network parameters</span>
<div class="viewcode-block" id="getNodeCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeCount">[docs]</a><span class="k">def</span> <span class="nf">getNodeCount</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetcount</span><span class="p">(</span><span class="n">EN_NODECOUNT</span><span class="p">)</span></div>

<div class="viewcode-block" id="getNodeTankReservoirCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankReservoirCount">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankReservoirCount</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetcount</span><span class="p">(</span><span class="n">EN_TANKCOUNT</span><span class="p">)</span></div>

<div class="viewcode-block" id="getLinkCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkCount">[docs]</a><span class="k">def</span> <span class="nf">getLinkCount</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetcount</span><span class="p">(</span><span class="n">EN_LINKCOUNT</span><span class="p">)</span></div>

<div class="viewcode-block" id="getPatternCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getPatternCount">[docs]</a><span class="k">def</span> <span class="nf">getPatternCount</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetcount</span><span class="p">(</span><span class="n">EN_PATCOUNT</span><span class="p">)</span></div>

<div class="viewcode-block" id="getCurveCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getCurveCount">[docs]</a><span class="k">def</span> <span class="nf">getCurveCount</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetcount</span><span class="p">(</span><span class="n">EN_CURVECOUNT</span><span class="p">)</span></div>

<div class="viewcode-block" id="getControlRulesCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getControlRulesCount">[docs]</a><span class="k">def</span> <span class="nf">getControlRulesCount</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetcount</span><span class="p">(</span><span class="n">EN_CONTROLCOUNT</span><span class="p">)</span></div>

<div class="viewcode-block" id="getNodeJunctionsCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeJunctionsCount">[docs]</a><span class="k">def</span> <span class="nf">getNodeJunctionsCount</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">-</span><span class="n">getNodeTankReservoirCount</span><span class="p">()</span></div>

<div class="viewcode-block" id="getNodeReservoirCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeReservoirCount">[docs]</a><span class="k">def</span> <span class="nf">getNodeReservoirCount</span><span class="p">():</span>
    <span class="n">NodeReservoirCount</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">NodeTypeIndex</span> <span class="o">=</span> <span class="n">getNodeTypeIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">NodeTypeIndex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">NodeReservoirCount</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">NodeReservoirCount</span></div>

<div class="viewcode-block" id="getNodeTankCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankCount">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankCount</span><span class="p">():</span>
    <span class="n">NodeTankCount</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">NodeTypeIndex</span> <span class="o">=</span> <span class="n">getNodeTypeIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">NodeTypeIndex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
            <span class="n">NodeTankCount</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">NodeTankCount</span></div>

<div class="viewcode-block" id="getLinkPipeCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPipeCount">[docs]</a><span class="k">def</span> <span class="nf">getLinkPipeCount</span><span class="p">():</span>
    <span class="n">LinkPipeCount</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">LinkTypeIndex</span> <span class="o">=</span> <span class="n">getLinkTypeIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">LinkTypeIndex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span>
            <span class="n">LinkPipeCount</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">LinkPipeCount</span></div>

<div class="viewcode-block" id="getLinkPumpCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPumpCount">[docs]</a><span class="k">def</span> <span class="nf">getLinkPumpCount</span><span class="p">():</span>
    <span class="n">LinkPumpCount</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">LinkTypeIndex</span> <span class="o">=</span> <span class="n">getLinkTypeIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">LinkTypeIndex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
            <span class="n">LinkPumpCount</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">LinkPumpCount</span></div>

<div class="viewcode-block" id="getLinkValveCount"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkValveCount">[docs]</a><span class="k">def</span> <span class="nf">getLinkValveCount</span><span class="p">():</span>
    <span class="n">LinkValveCount</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">LinkTypeIndex</span> <span class="o">=</span> <span class="n">getLinkTypeIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">LinkTypeIndex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">:</span>
            <span class="n">LinkValveCount</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">LinkValveCount</span></div>

<div class="viewcode-block" id="getControls"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getControls">[docs]</a><span class="k">def</span> <span class="nf">getControls</span><span class="p">():</span>
    <span class="c1">#Retrieves the parameters of all control statements</span>
    <span class="n">Controls</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="n">getControlRulesCount</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">getControlRulesCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">Controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetcontrol</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">Controls</span></div>

<div class="viewcode-block" id="getFlowUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getFlowUnits">[docs]</a><span class="k">def</span> <span class="nf">getFlowUnits</span><span class="p">():</span>
    <span class="c1">#Retrieves flow units used to express all flow rates.</span>
    <span class="n">units</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">flowunitsindex</span> <span class="o">=</span> <span class="n">ENgetflowunits</span><span class="p">()</span>
    <span class="n">units</span> <span class="o">=</span> <span class="n">FlowUnits</span><span class="p">[</span><span class="n">flowunitsindex</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">units</span></div>

<div class="viewcode-block" id="getFlowUnitsCode"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getFlowUnitsCode">[docs]</a><span class="k">def</span> <span class="nf">getFlowUnitsCode</span><span class="p">():</span>
    <span class="c1">#Retrieves flow units used to express all flow rates.</span>
    <span class="k">return</span> <span class="n">ENgetflowunits</span><span class="p">()</span></div>

<span class="c1">## Get all the link data</span>
<div class="viewcode-block" id="getLinkNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkNameID">[docs]</a><span class="k">def</span> <span class="nf">getLinkNameID</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="c1">#Retrieves the ID label(s) of all links, or the IDs of an index set of links</span>
    <span class="n">linknameid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">linknameid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkid</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">linknameid</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">linknameid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">linknameid</span></div>

<div class="viewcode-block" id="getLinkIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkIndex">[docs]</a><span class="k">def</span> <span class="nf">getLinkIndex</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="c1">#Retrieves the indices of all links, or the indices of an ID set of links</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkindex</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkPipeIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPipeIndex">[docs]</a><span class="k">def</span> <span class="nf">getLinkPipeIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the pipe index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkPipeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkPumpIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPumpIndex">[docs]</a><span class="k">def</span> <span class="nf">getLinkPumpIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the pump index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">getLinkTypeIndex</span><span class="p">()</span>
    <span class="n">LinkPumpIndex</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">LinkPumpIndex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">LinkPumpIndex</span></div>

<div class="viewcode-block" id="getLinkValveIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkValveIndex">[docs]</a><span class="k">def</span> <span class="nf">getLinkValveIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the valve index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">getLinkTypeIndex</span><span class="p">()</span>
    <span class="n">LinkValveIndex</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">LinkValveIndex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">LinkValveIndex</span></div>

<div class="viewcode-block" id="getLinkDiameter"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkDiameter">[docs]</a><span class="k">def</span> <span class="nf">getLinkDiameter</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link diameters</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkLength"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkLength">[docs]</a><span class="k">def</span> <span class="nf">getLinkLength</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link lengths</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkRoughnessCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkRoughnessCoeff">[docs]</a><span class="k">def</span> <span class="nf">getLinkRoughnessCoeff</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link roughness</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkMinorLossCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkMinorLossCoeff">[docs]</a><span class="k">def</span> <span class="nf">getLinkMinorLossCoeff</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link minor loss coefficients</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkInitialStatus"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkInitialStatus">[docs]</a><span class="k">def</span> <span class="nf">getLinkInitialStatus</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link initial status</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkInitialSetting"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkInitialSetting">[docs]</a><span class="k">def</span> <span class="nf">getLinkInitialSetting</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link roughness for pipes or initial speed for pumps or initial setting for valves</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkBulkReactionCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkBulkReactionCoeff">[docs]</a><span class="k">def</span> <span class="nf">getLinkBulkReactionCoeff</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link bulk reaction coefficients</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkWallReactionCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkWallReactionCoeff">[docs]</a><span class="k">def</span> <span class="nf">getLinkWallReactionCoeff</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all link wall reaction coefficients</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkPipeNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPipeNameID">[docs]</a><span class="k">def</span> <span class="nf">getLinkPipeNameID</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">getLinkPipeIndex</span><span class="p">()</span>
    <span class="n">pipesid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">pipesid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">pipesid</span></div>

<div class="viewcode-block" id="getLinkPumpNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPumpNameID">[docs]</a><span class="k">def</span> <span class="nf">getLinkPumpNameID</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">getLinkPumpIndex</span><span class="p">()</span>
    <span class="n">pumpsid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">pumpsid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">pumpsid</span></div>

<div class="viewcode-block" id="getLinkValveNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkValveNameID">[docs]</a><span class="k">def</span> <span class="nf">getLinkValveNameID</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">getLinkValveIndex</span><span class="p">()</span>
    <span class="n">valvesid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">valvesid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">valvesid</span></div>

<span class="c1"># link dynamics</span>
<div class="viewcode-block" id="getLinkFlows"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkFlows">[docs]</a><span class="k">def</span> <span class="nf">getLinkFlows</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all computed link flow rates</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkVelocity"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkVelocity">[docs]</a><span class="k">def</span> <span class="nf">getLinkVelocity</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all computed link velocities</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getLinkHeadloss"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkHeadloss">[docs]</a><span class="k">def</span> <span class="nf">getLinkHeadloss</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all computed link headloss</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>
<div class="viewcode-block" id="getLinkStatus"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkStatus">[docs]</a><span class="k">def</span> <span class="nf">getLinkStatus</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all computed link status (0 = closed, 1 = open)</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>
<div class="viewcode-block" id="getLinkSettings"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkSettings">[docs]</a><span class="k">def</span> <span class="nf">getLinkSettings</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all computed link roughness for pipes or actual speed for pumps or actual setting for valves</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>
<div class="viewcode-block" id="getLinkPumpEnergy"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPumpEnergy">[docs]</a><span class="k">def</span> <span class="nf">getLinkPumpEnergy</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all computed energy in kwatts</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">13</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>
<div class="viewcode-block" id="getLinkQuality"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkQuality">[docs]</a><span class="k">def</span> <span class="nf">getLinkQuality</span><span class="p">():</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">14</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>
<div class="viewcode-block" id="getLinkPumpPatternIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPumpPatternIndex">[docs]</a><span class="k">def</span> <span class="nf">getLinkPumpPatternIndex</span><span class="p">():</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<span class="c1">## Get all the node data</span>
<div class="viewcode-block" id="getNodeNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeNameID">[docs]</a><span class="k">def</span> <span class="nf">getNodeNameID</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="c1">#Retrieves the ID label of all nodes or some nodes with a specified index.</span>
    <span class="n">nodenameid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">nodenameid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodeid</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">nodenameid</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">nodenameid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodeid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">nodenameid</span></div>

<div class="viewcode-block" id="getNodeIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeIndex</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="c1">#Retrieves the indices of all nodes, or the indices of an ID set of nodes</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodeindex</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeJunctionIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeJunctionIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeJunctionIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the junction index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeJunctionsCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeReservoirIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeReservoirIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeReservoirIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the reservoir index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">getNodeTypeIndex</span><span class="p">()</span>
    <span class="n">NodeReservoirIndex</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">NodeReservoirIndex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">NodeReservoirIndex</span></div>

<div class="viewcode-block" id="getNodeTankIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">getNodeTypeIndex</span><span class="p">()</span>
    <span class="n">NodeTankIndex</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">NodeTankIndex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">NodeTankIndex</span></div>

<div class="viewcode-block" id="getNodeReservoirNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeReservoirNameID">[docs]</a><span class="k">def</span> <span class="nf">getNodeReservoirNameID</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">getNodeReservoirIndex</span><span class="p">()</span>
    <span class="n">reservoirsid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">reservoirsid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodeid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">reservoirsid</span></div>

<div class="viewcode-block" id="getNodeTankNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankNameID">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankNameID</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">getNodeTankIndex</span><span class="p">()</span>
    <span class="n">tanksid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">tanksid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodeid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">tanksid</span></div>

<div class="viewcode-block" id="getNodeJunctionNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeJunctionNameID">[docs]</a><span class="k">def</span> <span class="nf">getNodeJunctionNameID</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">getNodeJunctionIndex</span><span class="p">()</span>
    <span class="n">junctionsid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">junctionsid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodeid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">junctionsid</span></div>

<div class="viewcode-block" id="getNodeElevations"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeElevations">[docs]</a><span class="k">def</span> <span class="nf">getNodeElevations</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node elevations</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeBaseDemands"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeBaseDemands">[docs]</a><span class="k">def</span> <span class="nf">getNodeBaseDemands</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node basedemands</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeDemandPatternIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeDemandPatternIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeDemandPatternIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node demand pattern indices</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeEmitterCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeEmitterCoeff">[docs]</a><span class="k">def</span> <span class="nf">getNodeEmitterCoeff</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node emmitter coefficients</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeInitialQuality"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeInitialQuality">[docs]</a><span class="k">def</span> <span class="nf">getNodeInitialQuality</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node initial quality</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeSourceQuality"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeSourceQuality">[docs]</a><span class="k">def</span> <span class="nf">getNodeSourceQuality</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all nodes source quality</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeSourcePatternIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeSourcePatternIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeSourcePatternIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node source pattern index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeSourceTypeCode"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeSourceTypeCode">[docs]</a><span class="k">def</span> <span class="nf">getNodeSourceTypeCode</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node source pattern index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeSourceType"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeSourceType">[docs]</a><span class="k">def</span> <span class="nf">getNodeSourceType</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all node source type</span>
    <span class="n">cnt</span><span class="o">=</span><span class="n">getNodeCount</span><span class="p">()</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">cnt</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cnt</span><span class="p">):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">TYPESOURCE</span><span class="p">[</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodesConnectingLinksIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodesConnectingLinksIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodesConnectingLinksIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the indexes of the from/to nodes of all links.</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetlinknodes</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodesCoords"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodesCoords">[docs]</a><span class="k">def</span> <span class="nf">getNodesCoords</span><span class="p">():</span>
    <span class="c1">#Retrieves the indexes of the from/to nodes of all links.</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetcoord</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodesConnectingLinksID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodesConnectingLinksID">[docs]</a><span class="k">def</span> <span class="nf">getNodesConnectingLinksID</span><span class="p">():</span>
    <span class="c1">#Retrieves the id of the from/to nodes of all links.</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">linknodes</span> <span class="o">=</span> <span class="n">getNodesConnectingLinksIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">getNodeNameID</span><span class="p">(</span><span class="n">linknodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span> <span class="n">getNodeNameID</span><span class="p">(</span><span class="n">linknodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])])</span>
    <span class="k">return</span> <span class="n">value</span></div>

<span class="c1"># node dynamics</span>
<div class="viewcode-block" id="getNodeActualDemand"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeActualDemand">[docs]</a><span class="k">def</span> <span class="nf">getNodeActualDemand</span><span class="p">():</span>
    <span class="c1">#Retrieves the computed value of all actual demands</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeActualDemandSensingNodes"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeActualDemandSensingNodes">[docs]</a><span class="k">def</span> <span class="nf">getNodeActualDemandSensingNodes</span><span class="p">(</span><span class="o">*</span><span class="n">arg</span><span class="p">):</span>
    <span class="c1">#Retrieves the computed demand values at some sensing nodes</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="mi">9</span><span class="p">))</span></div>

<div class="viewcode-block" id="getNodeHydaulicHead"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeHydaulicHead">[docs]</a><span class="k">def</span> <span class="nf">getNodeHydaulicHead</span><span class="p">():</span>
    <span class="c1">#Retrieves the computed values of all hydraulic heads</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodePressure"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodePressure">[docs]</a><span class="k">def</span> <span class="nf">getNodePressure</span><span class="p">():</span>
    <span class="c1">#Retrieves the computed values of all node pressures</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeActualQuality"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeActualQuality">[docs]</a><span class="k">def</span> <span class="nf">getNodeActualQuality</span><span class="p">():</span>
    <span class="c1">#Retrieves the computed values of the actual quality for all nodes</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>
<div class="viewcode-block" id="getNodeMassFlowRate"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeMassFlowRate">[docs]</a><span class="k">def</span> <span class="nf">getNodeMassFlowRate</span><span class="p">():</span>
    <span class="c1">#Retrieves the computed mass flow rates per minute of chemical sources</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getNodeCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">13</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>


<span class="c1">## Get all tank data</span>
<div class="viewcode-block" id="getNodeTankInitialLevel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankInitialLevel">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankInitialLevel</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of all tank initial water levels</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankInitialWaterVolume"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankInitialWaterVolume">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankInitialWaterVolume</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank initial volume</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankMixiningModelCode"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankMixiningModelCode">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankMixiningModelCode</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank mixing mode (mix1, mix2, fifo, lifo)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankMixiningModel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankMixiningModel">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankMixiningModel</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank mixing mode (mix1, mix2, fifo, lifo)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">getNodeTankMixiningModelCode</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">getNodeTankCount</span><span class="p">()</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">TYPEMIXMODEL</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">TYPEMIXMODEL</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankMixZoneVolume"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankMixZoneVolume">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankMixZoneVolume</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank mixing zone volume</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankDiameter"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankDiameter">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankDiameter</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank diameters</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankMinimumWaterVolume"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankMinimumWaterVolume">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankMinimumWaterVolume</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank minimum volume</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankVolumeCurveIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankVolumeCurveIndex">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankVolumeCurveIndex</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank volume curve index</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankMinimumWaterLevel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankMinimumWaterLevel">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankMinimumWaterLevel</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank minimum water level</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankMaximumWaterLevel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankMaximumWaterLevel">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankMaximumWaterLevel</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank maximum water level</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankFraction"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankFraction">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankFraction</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank Fraction of total volume occupied by the inlet/outlet zone in a 2-compartment tank</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankBulkReactionCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankBulkReactionCoeff">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankBulkReactionCoeff</span><span class="p">():</span>
    <span class="c1">#Retrieves the tank bulk rate coefficient</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">23</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankVolume"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankVolume">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankVolume</span><span class="p">():</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getNodeTankMaxVolume"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankMaxVolume">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankMaxVolume</span><span class="p">():</span>
    <span class="c1">#epanet20013.dll</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">getNodeCount</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nodetankindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getNodeTankIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="p">[</span><span class="n">nodetankindex</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetnodevalue</span><span class="p">(</span><span class="n">nodetankindex</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span></div>


<span class="c1">## Get all options</span>
<div class="viewcode-block" id="getOptionsMaxTrials"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getOptionsMaxTrials">[docs]</a><span class="k">def</span> <span class="nf">getOptionsMaxTrials</span><span class="p">():</span>
    <span class="c1">#Retrieve maximum number of analysis trials</span>
    <span class="k">return</span> <span class="n">ENgetoption</span><span class="p">(</span><span class="n">EN_TRIALS</span><span class="p">)</span></div>

<div class="viewcode-block" id="getOptionsAccuracyValue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getOptionsAccuracyValue">[docs]</a><span class="k">def</span> <span class="nf">getOptionsAccuracyValue</span><span class="p">():</span>
    <span class="c1">#Retrieve the analysis convergence criterion (0.001)</span>
    <span class="k">return</span> <span class="n">ENgetoption</span><span class="p">(</span><span class="n">EN_ACCURACY</span><span class="p">)</span></div>

<div class="viewcode-block" id="getOptionsQualityTolerance"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getOptionsQualityTolerance">[docs]</a><span class="k">def</span> <span class="nf">getOptionsQualityTolerance</span><span class="p">():</span>
    <span class="c1">#Retrieve the water quality analysis tolerance</span>
    <span class="k">return</span> <span class="n">ENgetoption</span><span class="p">(</span><span class="n">EN_TOLERANCE</span><span class="p">)</span></div>

<div class="viewcode-block" id="getOptionsEmitterExponent"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getOptionsEmitterExponent">[docs]</a><span class="k">def</span> <span class="nf">getOptionsEmitterExponent</span><span class="p">():</span>
    <span class="c1">#Retrieve power exponent for the emmitters (0.5)</span>
    <span class="k">return</span> <span class="n">ENgetoption</span><span class="p">(</span><span class="n">EN_EMITEXPON</span><span class="p">)</span></div>

<div class="viewcode-block" id="getOptionsPatternDemandMultiplier"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getOptionsPatternDemandMultiplier">[docs]</a><span class="k">def</span> <span class="nf">getOptionsPatternDemandMultiplier</span><span class="p">():</span>
    <span class="c1">#Retrieve the demand multiplier (x1)</span>
    <span class="k">return</span> <span class="n">ENgetoption</span><span class="p">(</span><span class="n">EN_DEMANDMULT</span><span class="p">)</span></div>

<span class="c1">## Get pattern data</span>
<div class="viewcode-block" id="getPatternNameID"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getPatternNameID">[docs]</a><span class="k">def</span> <span class="nf">getPatternNameID</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="c1">#Retrieves the ID label of all or some time patterns indices</span>
    <span class="n">patternnameid</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getPatternCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">patternnameid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetpatternid</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">patternnameid</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">patternnameid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetpatternid</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">patternnameid</span></div>

<div class="viewcode-block" id="getPatternIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getPatternIndex">[docs]</a><span class="k">def</span> <span class="nf">getPatternIndex</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="c1">#Retrieves the index of all or some time patterns IDs</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">getPatternCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetpatternindex</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getPatternLengths"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getPatternLengths">[docs]</a><span class="k">def</span> <span class="nf">getPatternLengths</span><span class="p">():</span>
    <span class="c1">#Retrieves the number of time periods in all or some patterns</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">getPatternCount</span><span class="p">(),</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetpatternlen</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getPattern"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getPattern">[docs]</a><span class="k">def</span> <span class="nf">getPattern</span><span class="p">():</span>
    <span class="c1">#Retrieves the multiplier factor for all patterns and all times</span>
    <span class="kn">import</span> <span class="nn">numpy</span>
    <span class="n">tmpmaxlen</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">getPatternLengths</span><span class="p">())</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">getPatternCount</span><span class="p">(),</span><span class="n">tmpmaxlen</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getPatternCount</span><span class="p">()):</span>
        <span class="n">tmplength</span><span class="o">=</span><span class="n">getPatternLengths</span><span class="p">()[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">tmplength</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ENgetpatternvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tmplength</span><span class="o">&lt;</span><span class="n">tmpmaxlen</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">tmplength</span><span class="p">),</span><span class="n">tmpmaxlen</span><span class="p">):</span>
                <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="n">tmplength</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getPatternValue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getPatternValue">[docs]</a><span class="k">def</span> <span class="nf">getPatternValue</span><span class="p">(</span><span class="n">patternIndex</span><span class="p">,</span> <span class="n">patternStep</span><span class="p">):</span>
    <span class="c1">#Retrieves the multiplier factor for a certain pattern and time</span>
    <span class="k">return</span> <span class="n">ENgetpatternvalue</span><span class="p">(</span><span class="n">patternIndex</span><span class="p">,</span> <span class="n">patternStep</span><span class="p">)</span></div>


<span class="c1">## Get quality types</span>
<div class="viewcode-block" id="getQualityTypeCode"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualityTypeCode">[docs]</a><span class="k">def</span> <span class="nf">getQualityTypeCode</span><span class="p">():</span>
    <span class="c1">#Retrieves the type of water quality analysis type</span>
    <span class="k">return</span> <span class="n">ENgetqualtype</span><span class="p">()</span></div>

<div class="viewcode-block" id="getQualityType"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualityType">[docs]</a><span class="k">def</span> <span class="nf">getQualityType</span><span class="p">():</span>
    <span class="c1">#Retrieves the type of water quality analysis type</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">ENgetqualtype</span><span class="p">()</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">TYPEQUALITY</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">getNodeNameID</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TYPEQUALITY</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="getQualityTraceNodeIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualityTraceNodeIndex">[docs]</a><span class="k">def</span> <span class="nf">getQualityTraceNodeIndex</span><span class="p">():</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">ENgetqualtype</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="getQualityInfo"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualityInfo">[docs]</a><span class="k">def</span> <span class="nf">getQualityInfo</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetqualinfo</span><span class="p">()</span></div>


<span class="c1">## Get time parameters</span>
<div class="viewcode-block" id="getTimeSimulationDuration"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeSimulationDuration">[docs]</a><span class="k">def</span> <span class="nf">getTimeSimulationDuration</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of simulation duration</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_DURATION</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimeHydraulicStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeHydraulicStep">[docs]</a><span class="k">def</span> <span class="nf">getTimeHydraulicStep</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of the hydraulic time step</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_HYDSTEP</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimeQualityStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeQualityStep">[docs]</a><span class="k">def</span> <span class="nf">getTimeQualityStep</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of the water quality time step</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_QUALSTEP</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimePatternStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimePatternStep">[docs]</a><span class="k">def</span> <span class="nf">getTimePatternStep</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of the pattern time step</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_PATTERNSTEP</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimePatternStart"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimePatternStart">[docs]</a><span class="k">def</span> <span class="nf">getTimePatternStart</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of pattern start time</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_PATTERNSTART</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimeReportingStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeReportingStep">[docs]</a><span class="k">def</span> <span class="nf">getTimeReportingStep</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of the reporting time step</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_REPORTSTEP</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimeReportingStart"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeReportingStart">[docs]</a><span class="k">def</span> <span class="nf">getTimeReportingStart</span><span class="p">():</span>
    <span class="c1">#Retrieves the value of the reporting start time</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_REPORTSTART</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimeRuleControlStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeRuleControlStep">[docs]</a><span class="k">def</span> <span class="nf">getTimeRuleControlStep</span><span class="p">():</span>
    <span class="c1">#Retrieves the time step for evaluating rule-based controls</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_RULESTEP</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimeReportingPeriods"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeReportingPeriods">[docs]</a><span class="k">def</span> <span class="nf">getTimeReportingPeriods</span><span class="p">():</span>
    <span class="c1">#Retrieves the number of reporting periods saved to the binary</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_PERIODS</span><span class="p">)</span></div>

<div class="viewcode-block" id="getTimeStatisticsType"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeStatisticsType">[docs]</a><span class="k">def</span> <span class="nf">getTimeStatisticsType</span><span class="p">():</span>
    <span class="c1">#Retrieves the type of time series post-processing (&#39;NONE&#39;,&#39;AVERAGE&#39;,&#39;MINIMUM&#39;,&#39;MAXIMUM&#39;, &#39;RANGE&#39;)</span>
    <span class="k">return</span> <span class="n">TYPESTATS</span><span class="p">[</span><span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_STATISTIC</span><span class="p">)]</span></div>

<div class="viewcode-block" id="getTimeStatisticsCode"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getTimeStatisticsCode">[docs]</a><span class="k">def</span> <span class="nf">getTimeStatisticsCode</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgettimeparam</span><span class="p">(</span><span class="n">EN_STATISTIC</span><span class="p">)</span></div>

<div class="viewcode-block" id="getVersion"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getVersion">[docs]</a><span class="k">def</span> <span class="nf">getVersion</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENgetversion</span><span class="p">()</span></div>

<div class="viewcode-block" id="addPattern"><a class="viewcode-back" href="../../basp.html#basp.epamodule.addPattern">[docs]</a><span class="k">def</span> <span class="nf">addPattern</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">valueIndex</span><span class="o">=-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">ENaddpattern</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">valueIndex</span> <span class="o">=</span> <span class="n">getPatternIndex</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">ENaddpattern</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">valueIndex</span> <span class="o">=</span> <span class="n">getPatternIndex</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">setPattern</span><span class="p">(</span><span class="n">valueIndex</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">valueIndex</span></div>


<span class="c1">## Units: US Customary - SI metric</span>
<div class="viewcode-block" id="getNodePressureUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodePressureUnits">[docs]</a><span class="k">def</span> <span class="nf">getNodePressureUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;pounds per square inch&#39;</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_LPS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_LPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MLD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CMH</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CMD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;meters&#39;</span></div>

<div class="viewcode-block" id="getPatternDemandsUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getPatternDemandsUnits">[docs]</a><span class="k">def</span> <span class="nf">getPatternDemandsUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">FlowUnits</span><span class="p">[</span><span class="n">code</span><span class="p">]</span></div>

<div class="viewcode-block" id="getLinkPipeDiameterUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPipeDiameterUnits">[docs]</a><span class="k">def</span> <span class="nf">getLinkPipeDiameterUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;inches&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;millimeters&#39;</span></div>

<div class="viewcode-block" id="getNodeTankDiameterUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankDiameterUnits">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankDiameterUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;feet&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;meters&#39;</span></div>

<div class="viewcode-block" id="getEnergyEfficiencyUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getEnergyEfficiencyUnits">[docs]</a><span class="k">def</span> <span class="nf">getEnergyEfficiencyUnits</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;percent&#39;</span></div>

<div class="viewcode-block" id="getNodeElevationUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeElevationUnits">[docs]</a><span class="k">def</span> <span class="nf">getNodeElevationUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;feet&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;meters&#39;</span></div>

<div class="viewcode-block" id="getNodeEmitterCoefficientUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeEmitterCoefficientUnits">[docs]</a><span class="k">def</span> <span class="nf">getNodeEmitterCoefficientUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;flow units @ 1 psi drop&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;flow units @ 1 meter drop&#39;</span></div>

<div class="viewcode-block" id="getEnergyUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getEnergyUnits">[docs]</a><span class="k">def</span> <span class="nf">getEnergyUnits</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;kwatt-hours&#39;</span></div>

<div class="viewcode-block" id="getLinkFrictionFactorUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkFrictionFactorUnits">[docs]</a><span class="k">def</span> <span class="nf">getLinkFrictionFactorUnits</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;unitless&#39;</span></div>

<div class="viewcode-block" id="getNodeHeadUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeHeadUnits">[docs]</a><span class="k">def</span> <span class="nf">getNodeHeadUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;feet&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;meters&#39;</span></div>

<div class="viewcode-block" id="getLinkLengthsUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkLengthsUnits">[docs]</a><span class="k">def</span> <span class="nf">getLinkLengthsUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;feet&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;meters&#39;</span></div>

<div class="viewcode-block" id="getLinkMinorLossCoeffUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkMinorLossCoeffUnits">[docs]</a><span class="k">def</span> <span class="nf">getLinkMinorLossCoeffUnits</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;unitless&#39;</span></div>

<div class="viewcode-block" id="getLinkPumpPowerUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPumpPowerUnits">[docs]</a><span class="k">def</span> <span class="nf">getLinkPumpPowerUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;horsepower&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;kwatts&#39;</span></div>

<div class="viewcode-block" id="getQualityReactionCoeffBulkUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualityReactionCoeffBulkUnits">[docs]</a><span class="k">def</span> <span class="nf">getQualityReactionCoeffBulkUnits</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;1/day (1st-order)&#39;</span></div>

<div class="viewcode-block" id="getQualityReactionCoeffWallUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualityReactionCoeffWallUnits">[docs]</a><span class="k">def</span> <span class="nf">getQualityReactionCoeffWallUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;mass/sq-ft/day (0-order), ft/day (1st-order)&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;mass/sq-m/day(0-order), meters/day (1st-order)&#39;</span></div>

<div class="viewcode-block" id="getLinkPipeRoughnessCoeffUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPipeRoughnessCoeffUnits">[docs]</a><span class="k">def</span> <span class="nf">getLinkPipeRoughnessCoeffUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;millifeet(Darcy-Weisbach), unitless otherwise&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;mm(Darcy-Weisbach), unitless otherwise&#39;</span></div>

<div class="viewcode-block" id="getQualitySourceMassInjectionUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualitySourceMassInjectionUnits">[docs]</a><span class="k">def</span> <span class="nf">getQualitySourceMassInjectionUnits</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;mass/minute&#39;</span></div>

<div class="viewcode-block" id="getLinkVelocityUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkVelocityUnits">[docs]</a><span class="k">def</span> <span class="nf">getLinkVelocityUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;ft/sec&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;meters/sec&#39;</span></div>

<div class="viewcode-block" id="getNodeTankVolumeUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeTankVolumeUnits">[docs]</a><span class="k">def</span> <span class="nf">getNodeTankVolumeUnits</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">getFlowUnitsCode</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_CFS</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_GPM</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_MGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_IMGD</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">==</span> <span class="n">EN_AFD</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;cubic feet&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;cubic meters&#39;</span></div>

<div class="viewcode-block" id="getQualityWaterAgeUnits"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getQualityWaterAgeUnits">[docs]</a><span class="k">def</span> <span class="nf">getQualityWaterAgeUnits</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;hours&#39;</span></div>


<div class="viewcode-block" id="getCurvesInfo"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getCurvesInfo">[docs]</a><span class="k">def</span> <span class="nf">getCurvesInfo</span><span class="p">():</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">getCurveCount</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetcurve</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getHeadCurveIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getHeadCurveIndex">[docs]</a><span class="k">def</span> <span class="nf">getHeadCurveIndex</span><span class="p">():</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pumpindex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">getLinkPumpIndex</span><span class="p">()):</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ENgetheadcurveindex</span><span class="p">(</span><span class="n">pumpindex</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">value</span></div>

<span class="c1">## Hydraulic analysis</span>
<div class="viewcode-block" id="openHydraulicAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.openHydraulicAnalysis">[docs]</a><span class="k">def</span> <span class="nf">openHydraulicAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENopenH</span><span class="p">()</span></div>

<div class="viewcode-block" id="initializeHydraulicAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.initializeHydraulicAnalysis">[docs]</a><span class="k">def</span> <span class="nf">initializeHydraulicAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENinitH</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="runHydraulicAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.runHydraulicAnalysis">[docs]</a><span class="k">def</span> <span class="nf">runHydraulicAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENrunH</span><span class="p">()</span> <span class="c1"># tstep</span></div>

<div class="viewcode-block" id="nextHydraulicAnalysisStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.nextHydraulicAnalysisStep">[docs]</a><span class="k">def</span> <span class="nf">nextHydraulicAnalysisStep</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENnextH</span><span class="p">()</span></div>

<div class="viewcode-block" id="closeHydraulicAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.closeHydraulicAnalysis">[docs]</a><span class="k">def</span> <span class="nf">closeHydraulicAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENcloseH</span><span class="p">()</span></div>

<span class="c1"># Quality analysis</span>
<div class="viewcode-block" id="openQualityAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.openQualityAnalysis">[docs]</a><span class="k">def</span> <span class="nf">openQualityAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENopenQ</span><span class="p">()</span></div>

<div class="viewcode-block" id="initializeQualityAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.initializeQualityAnalysis">[docs]</a><span class="k">def</span> <span class="nf">initializeQualityAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENinitQ</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="runQualityAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.runQualityAnalysis">[docs]</a><span class="k">def</span> <span class="nf">runQualityAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENrunQ</span><span class="p">()</span></div>

<div class="viewcode-block" id="nextQualityAnalysisStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.nextQualityAnalysisStep">[docs]</a><span class="k">def</span> <span class="nf">nextQualityAnalysisStep</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENnextQ</span><span class="p">()</span></div>

<div class="viewcode-block" id="closeQualityAnalysis"><a class="viewcode-back" href="../../basp.html#basp.epamodule.closeQualityAnalysis">[docs]</a><span class="k">def</span> <span class="nf">closeQualityAnalysis</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENcloseQ</span><span class="p">()</span></div>


<span class="c1"># def saveHydraulicFile(obj,hydname):</span>
<span class="c1">#     ENsavehydfile(hydname)</span>
<span class="c1">#</span>
<span class="c1"># def useHydraulicFile(obj,hydname):</span>
<span class="c1">#     ENusehydfile(hydname)</span>

<div class="viewcode-block" id="saveHydraulicsOutputReportingFile"><a class="viewcode-back" href="../../basp.html#basp.epamodule.saveHydraulicsOutputReportingFile">[docs]</a><span class="k">def</span> <span class="nf">saveHydraulicsOutputReportingFile</span><span class="p">():</span>
    <span class="n">ENsaveH</span><span class="p">()</span></div>

<div class="viewcode-block" id="stepQualityAnalysisTimeLeft"><a class="viewcode-back" href="../../basp.html#basp.epamodule.stepQualityAnalysisTimeLeft">[docs]</a><span class="k">def</span> <span class="nf">stepQualityAnalysisTimeLeft</span><span class="p">():</span>
     <span class="k">return</span> <span class="n">ENstepQ</span><span class="p">()</span> <span class="c1"># tleft</span></div>

<div class="viewcode-block" id="closeNetwork"><a class="viewcode-back" href="../../basp.html#basp.epamodule.closeNetwork">[docs]</a><span class="k">def</span> <span class="nf">closeNetwork</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ENclose</span><span class="p">()</span></div>


<div class="viewcode-block" id="setQualityType"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setQualityType">[docs]</a><span class="k">def</span> <span class="nf">setQualityType</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">qualcode</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">chemname</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="n">chemunits</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="n">tracenode</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">if</span> <span class="n">EN_NONE</span><span class="o">==</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">ENsetqualtype</span><span class="p">(</span><span class="n">qualcode</span><span class="p">,</span><span class="n">chemname</span><span class="p">,</span><span class="n">chemunits</span><span class="p">,</span><span class="n">tracenode</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">EN_AGE</span><span class="o">==</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">qualcode</span><span class="o">=</span><span class="mi">2</span>
        <span class="n">ENsetqualtype</span><span class="p">(</span><span class="n">qualcode</span><span class="p">,</span><span class="n">chemname</span><span class="p">,</span><span class="n">chemunits</span><span class="p">,</span><span class="n">tracenode</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">EN_CHEM</span><span class="o">==</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">qualcode</span><span class="o">=</span><span class="mi">1</span>
        <span class="n">chemname</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">:</span>
            <span class="n">chemunits</span><span class="o">=</span><span class="s1">&#39;mg/L&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">chemunits</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ENsetqualtype</span><span class="p">(</span><span class="n">qualcode</span><span class="p">,</span><span class="n">chemname</span><span class="p">,</span><span class="n">chemunits</span><span class="p">,</span><span class="n">tracenode</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">EN_TRACE</span><span class="o">==</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">qualcode</span><span class="o">=</span><span class="mi">3</span>
        <span class="n">tracenode</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ENsetqualtype</span><span class="p">(</span><span class="n">qualcode</span><span class="p">,</span><span class="n">chemname</span><span class="p">,</span><span class="n">chemunits</span><span class="p">,</span><span class="n">tracenode</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">qualcode</span><span class="o">=</span><span class="mi">1</span>
        <span class="n">chemname</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">:</span>
            <span class="n">chemunits</span><span class="o">=</span><span class="s1">&#39;mg/L&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">chemunits</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ENsetqualtype</span><span class="p">(</span><span class="n">qualcode</span><span class="p">,</span><span class="n">chemname</span><span class="p">,</span><span class="n">chemunits</span><span class="p">,</span><span class="n">tracenode</span><span class="p">)</span></div>

<div class="viewcode-block" id="setPattern"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setPattern">[docs]</a><span class="k">def</span> <span class="nf">setPattern</span><span class="p">(</span><span class="n">patInd</span><span class="p">,</span><span class="n">patternVector</span><span class="p">):</span>
    <span class="n">ENsetpattern</span><span class="p">(</span><span class="n">patInd</span><span class="p">,</span> <span class="n">patternVector</span><span class="p">)</span></div>

<div class="viewcode-block" id="setControl"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setControl">[docs]</a><span class="k">def</span> <span class="nf">setControl</span><span class="p">(</span><span class="n">controlRuleIndex</span><span class="p">,</span><span class="n">controlTypeCode</span><span class="p">,</span><span class="n">linkIndex</span><span class="p">,</span><span class="n">controlSettingValue</span><span class="p">,</span><span class="n">nodeIndex</span><span class="p">,</span><span class="n">controlLevel</span><span class="p">):</span>
    <span class="c1"># Example: d.setControl(1,1,13,1,11,150) controlRuleIndex must exist</span>
    <span class="k">if</span> <span class="n">controlRuleIndex</span><span class="o">&lt;=</span><span class="n">getControlRulesCount</span><span class="p">():</span>
        <span class="n">ENsetcontrol</span><span class="p">(</span><span class="n">controlRuleIndex</span><span class="p">,</span><span class="n">controlTypeCode</span><span class="p">,</span><span class="n">linkIndex</span><span class="p">,</span><span class="n">controlSettingValue</span><span class="p">,</span><span class="n">nodeIndex</span><span class="p">,</span><span class="n">controlLevel</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;New rules cannot be added in this epanet version&#39;</span><span class="p">)</span></div>

<span class="c1">## Set link parameters</span>
<div class="viewcode-block" id="setLinkDiameter"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkDiameter">[docs]</a><span class="k">def</span> <span class="nf">setLinkDiameter</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkLength"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkLength">[docs]</a><span class="k">def</span> <span class="nf">setLinkLength</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkRoughnessCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkRoughnessCoeff">[docs]</a><span class="k">def</span> <span class="nf">setLinkRoughnessCoeff</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkMinorLossCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkMinorLossCoeff">[docs]</a><span class="k">def</span> <span class="nf">setLinkMinorLossCoeff</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkInitialStatus"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkInitialStatus">[docs]</a><span class="k">def</span> <span class="nf">setLinkInitialStatus</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkInitialSetting"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkInitialSetting">[docs]</a><span class="k">def</span> <span class="nf">setLinkInitialSetting</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkBulkReactionCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkBulkReactionCoeff">[docs]</a><span class="k">def</span> <span class="nf">setLinkBulkReactionCoeff</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkWallReactionCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkWallReactionCoeff">[docs]</a><span class="k">def</span> <span class="nf">setLinkWallReactionCoeff</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkStatus"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkStatus">[docs]</a><span class="k">def</span> <span class="nf">setLinkStatus</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setLinkSettings"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setLinkSettings">[docs]</a><span class="k">def</span> <span class="nf">setLinkSettings</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">ENsetlinkvalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<span class="c1">## Set node parameters</span>
<div class="viewcode-block" id="setNodeElevations"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeElevations">[docs]</a><span class="k">def</span> <span class="nf">setNodeElevations</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeBaseDemands"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeBaseDemands">[docs]</a><span class="k">def</span> <span class="nf">setNodeBaseDemands</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeDemandPatternIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeDemandPatternIndex">[docs]</a><span class="k">def</span> <span class="nf">setNodeDemandPatternIndex</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeEmitterCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeEmitterCoeff">[docs]</a><span class="k">def</span> <span class="nf">setNodeEmitterCoeff</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeJunctionsCount</span><span class="p">()):</span>
        <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeInitialQuality"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeInitialQuality">[docs]</a><span class="k">def</span> <span class="nf">setNodeInitialQuality</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankInitialLevel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankInitialLevel">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankInitialLevel</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankMixingModel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankMixingModel">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankMixingModel</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankDiameter"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankDiameter">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankDiameter</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankMinimumWaterLevel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankMinimumWaterLevel">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankMinimumWaterLevel</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankMinimumWaterVolume"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankMinimumWaterVolume">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankMinimumWaterVolume</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankMaximumWaterLevel"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankMaximumWaterLevel">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankMaximumWaterLevel</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankFraction"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankFraction">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankFraction</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeTankBulkReactionCoeff"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeTankBulkReactionCoeff">[docs]</a><span class="k">def</span> <span class="nf">setNodeTankBulkReactionCoeff</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<span class="c1">## Set source parameters</span>
<div class="viewcode-block" id="setNodeSourceTypeCode"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeSourceTypeCode">[docs]</a><span class="k">def</span> <span class="nf">setNodeSourceTypeCode</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeSourceQuality"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeSourceQuality">[docs]</a><span class="k">def</span> <span class="nf">setNodeSourceQuality</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="setNodeSourcePatternIndex"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setNodeSourcePatternIndex">[docs]</a><span class="k">def</span> <span class="nf">setNodeSourcePatternIndex</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getNodeCount</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">ENsetnodevalue</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></div>


<span class="c1">## Set options</span>
<div class="viewcode-block" id="setOptionsMaxTrials"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setOptionsMaxTrials">[docs]</a><span class="k">def</span> <span class="nf">setOptionsMaxTrials</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsetoption</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setOptionsAccuracyValue"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setOptionsAccuracyValue">[docs]</a><span class="k">def</span> <span class="nf">setOptionsAccuracyValue</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsetoption</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setOptionsQualityTolerance"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setOptionsQualityTolerance">[docs]</a><span class="k">def</span> <span class="nf">setOptionsQualityTolerance</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsetoption</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setOptionsEmitterExponent"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setOptionsEmitterExponent">[docs]</a><span class="k">def</span> <span class="nf">setOptionsEmitterExponent</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsetoption</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setOptionsPatternDemandMultiplier"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setOptionsPatternDemandMultiplier">[docs]</a><span class="k">def</span> <span class="nf">setOptionsPatternDemandMultiplier</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsetoption</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<span class="c1">## Set time parameters</span>
<div class="viewcode-block" id="setTimeSimulationDuration"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimeSimulationDuration">[docs]</a><span class="k">def</span> <span class="nf">setTimeSimulationDuration</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimeHydraulicStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimeHydraulicStep">[docs]</a><span class="k">def</span> <span class="nf">setTimeHydraulicStep</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimeQualityStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimeQualityStep">[docs]</a><span class="k">def</span> <span class="nf">setTimeQualityStep</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimePatternStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimePatternStep">[docs]</a><span class="k">def</span> <span class="nf">setTimePatternStep</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimePatternStart"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimePatternStart">[docs]</a><span class="k">def</span> <span class="nf">setTimePatternStart</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimeReportingStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimeReportingStep">[docs]</a><span class="k">def</span> <span class="nf">setTimeReportingStep</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimeReportingStart"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimeReportingStart">[docs]</a><span class="k">def</span> <span class="nf">setTimeReportingStart</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimeRuleControlStep"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimeRuleControlStep">[docs]</a><span class="k">def</span> <span class="nf">setTimeRuleControlStep</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="setTimeStatisticsType"><a class="viewcode-back" href="../../basp.html#basp.epamodule.setTimeStatisticsType">[docs]</a><span class="k">def</span> <span class="nf">setTimeStatisticsType</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">ENsettimeparam</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="n">value</span><span class="p">)</span></div>

<span class="c1">## Node Coordinates</span>
<div class="viewcode-block" id="getNodeCoordinates"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getNodeCoordinates">[docs]</a><span class="k">def</span> <span class="nf">getNodeCoordinates</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">inpname</span>
    <span class="n">coord</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">inpname</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
    <span class="n">u</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">s1</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">u</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">s1</span><span class="o">==</span><span class="s2">&quot;[END]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
            <span class="k">break</span>

    <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">inpname</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
    <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">x</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">y</span><span class="o">=</span><span class="p">[]</span>
    <span class="c1"># Create a list.</span>
    <span class="n">vertx</span><span class="o">=</span><span class="p">[];</span><span class="n">verty</span><span class="o">=</span><span class="p">[]</span>
    <span class="c1"># Append empty lists in first two indexes.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">getLinkCount</span><span class="p">()):</span>
        <span class="n">vertx</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
        <span class="n">verty</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
    <span class="n">node</span><span class="o">=</span><span class="n">getNodesConnectingLinksIndex</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">a</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">s</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="n">ss</span><span class="o">=</span><span class="s2">&quot;;Node            </span><span class="se">\t</span><span class="s2">X-Coord         </span><span class="se">\t</span><span class="s2">Y-Coord</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="n">ss</span> <span class="ow">or</span> <span class="n">a</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">s</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="n">coord</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span>
            <span class="k">if</span> <span class="n">s</span><span class="o">==</span><span class="s2">&quot;[VERTICES]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
                <span class="n">s</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
                <span class="n">ss</span><span class="o">=</span><span class="s2">&quot;;Link               </span><span class="se">\t</span><span class="s2">X-Coord           </span><span class="se">\t</span><span class="s2">Y-Coord</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">a</span><span class="o">=</span><span class="mi">2</span>
            <span class="k">if</span> <span class="n">s</span><span class="o">!=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="n">a</span><span class="o">!=</span><span class="mi">2</span><span class="p">:</span>
                <span class="n">pp</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
                <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
                <span class="n">k</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="n">ss</span> <span class="ow">or</span> <span class="n">a</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
            <span class="n">s</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">s</span><span class="o">==</span><span class="s2">&quot;[LABELS]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">s</span><span class="o">!=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
                <span class="n">pp</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
                <span class="n">linkIndex</span> <span class="o">=</span> <span class="n">getLinkIndex</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="c1"># Add elements to empty lists.</span>
                <span class="n">vertx</span><span class="p">[</span><span class="n">linkIndex</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="n">verty</span><span class="p">[</span><span class="n">linkIndex</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">pp</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
                <span class="n">k</span><span class="o">+=</span><span class="mi">1</span>


    <span class="n">nlink</span> <span class="o">=</span> <span class="n">getLinkCount</span><span class="p">()</span>
    <span class="c1">#nnodes = getNodeCount()</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">y1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">ToNode</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">y2</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">FromNode</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">nlink</span><span class="p">):</span>
        <span class="n">fr</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">FromNode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fr</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ToNode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span>
        <span class="n">x1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">FromNode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">y1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">FromNode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">x2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">ToNode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">y2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">ToNode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">vertx</span><span class="p">,</span><span class="n">verty</span></div>

<div class="viewcode-block" id="plot"><a class="viewcode-back" href="../../basp.html#basp.epamodule.plot">[docs]</a><span class="k">def</span> <span class="nf">plot</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plot</span>
    <span class="k">global</span> <span class="n">inpname</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">vertx</span><span class="p">,</span><span class="n">verty</span><span class="o">=</span><span class="n">getNodeCoordinates</span><span class="p">()</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">],[</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">],</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;bo&#39;</span><span class="p">)</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Inputfile: &#39;</span><span class="o">+</span> <span class="n">inpname</span><span class="p">)</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="getLinkPumpPower"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getLinkPumpPower">[docs]</a><span class="k">def</span> <span class="nf">getLinkPumpPower</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">inpname</span>
    <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">inpname</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">s1</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">s1</span><span class="o">==</span><span class="s2">&quot;[END]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">pp</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;POWER&#39;</span> <span class="ow">or</span> <span class="n">pp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;power&#39;</span><span class="p">:</span>
                <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">pp</span><span class="p">[</span><span class="mi">4</span><span class="p">]))</span> <span class="c1">#return pump id with Power value</span>
        <span class="k">elif</span> <span class="n">s1</span><span class="o">==</span><span class="s2">&quot;[VALVES]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="getError"><a class="viewcode-back" href="../../basp.html#basp.epamodule.getError">[docs]</a><span class="k">def</span> <span class="nf">getError</span><span class="p">(</span><span class="n">ierr</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<span class="c1">#----------Running a hydraulic analysis --------------------------</span>
<div class="viewcode-block" id="ENsolveH"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsolveH">[docs]</a><span class="k">def</span> <span class="nf">ENsolveH</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Runs a complete hydraulic simulation with results </span>
<span class="sd">    for all time periods written to the binary Hydraulics file.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsolveH</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENopenH"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENopenH">[docs]</a><span class="k">def</span> <span class="nf">ENopenH</span><span class="p">():</span> 
    <span class="sd">&quot;&quot;&quot;Opens the hydraulics analysis system&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENopenH</span><span class="p">()</span></div>


<div class="viewcode-block" id="ENinitH"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENinitH">[docs]</a><span class="k">def</span> <span class="nf">ENinitH</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initializes storage tank levels, link status and settings, </span>
<span class="sd">    and the simulation clock time prior</span>
<span class="sd">to running a hydraulic analysis.</span>

<span class="sd">    flag  EN_NOSAVE [+EN_SAVE] [+EN_INITFLOW] &quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENinitH</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENrunH"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENrunH">[docs]</a><span class="k">def</span> <span class="nf">ENrunH</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Runs a single period hydraulic analysis, </span>
<span class="sd">    retrieving the current simulation clock time t&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENrunH</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">_current_simulation_time</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">&gt;=</span><span class="mi">100</span><span class="p">:</span> 
      <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ierr</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">ENgeterror</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsimtime"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsimtime">[docs]</a><span class="k">def</span> <span class="nf">ENsimtime</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;retrieves the current simulation time t as datetime.timedelta instance&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span> <span class="n">_current_simulation_time</span><span class="o">.</span><span class="n">value</span> <span class="p">)</span></div>

<div class="viewcode-block" id="ENnextH"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENnextH">[docs]</a><span class="k">def</span> <span class="nf">ENnextH</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Determines the length of time until the next hydraulic event occurs in an extended period</span>
<span class="sd">       simulation.&quot;&quot;&quot;</span>
    <span class="n">_deltat</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_long</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENnextH</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">_deltat</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_deltat</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ENcloseH"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENcloseH">[docs]</a><span class="k">def</span> <span class="nf">ENcloseH</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Closes the hydraulic analysis system, freeing all allocated memory.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENcloseH</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<span class="c1">#--------------------------------------------</span>

<span class="c1">#----------Running a quality analysis --------------------------</span>
<div class="viewcode-block" id="ENsolveQ"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsolveQ">[docs]</a><span class="k">def</span> <span class="nf">ENsolveQ</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Runs a complete water quality simulation with results </span>
<span class="sd">    at uniform reporting intervals written to EPANET&#39;s binary Output file.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsolveQ</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENopenQ"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENopenQ">[docs]</a><span class="k">def</span> <span class="nf">ENopenQ</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Opens the water quality analysis system&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENopenQ</span><span class="p">()</span></div>


<div class="viewcode-block" id="ENinitQ"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENinitQ">[docs]</a><span class="k">def</span> <span class="nf">ENinitQ</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initializes water quality and the simulation clock </span>
<span class="sd">    time prior to running a water quality analysis.</span>

<span class="sd">    flag  EN_NOSAVE | EN_SAVE &quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENinitQ</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ENrunQ"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENrunQ">[docs]</a><span class="k">def</span> <span class="nf">ENrunQ</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Makes available the hydraulic and water quality results</span>
<span class="sd">    that occur at the start of the next time period of a water quality analysis, </span>
<span class="sd">    where the start of the period is returned in t.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENrunQ</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">_current_simulation_time</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">&gt;=</span><span class="mi">100</span><span class="p">:</span> 
      <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ierr</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">ENgeterror</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ENnextQ"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENnextQ">[docs]</a><span class="k">def</span> <span class="nf">ENnextQ</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Advances the water quality simulation </span>
<span class="sd">    to the start of the next hydraulic time period.&quot;&quot;&quot;</span>
    <span class="n">_deltat</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_long</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENnextQ</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">_deltat</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_deltat</span><span class="o">.</span><span class="n">value</span></div>
    
    
<div class="viewcode-block" id="ENstepQ"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENstepQ">[docs]</a><span class="k">def</span> <span class="nf">ENstepQ</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Advances the water quality simulation one water quality time step. </span>
<span class="sd">    The time remaining in the overall simulation is returned in tleft.&quot;&quot;&quot;</span>
    <span class="n">tleft</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_long</span><span class="p">()</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENnextQ</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">tleft</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tleft</span><span class="o">.</span><span class="n">value</span></div>

<div class="viewcode-block" id="ENcloseQ"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENcloseQ">[docs]</a><span class="k">def</span> <span class="nf">ENcloseQ</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Closes the water quality analysis system, </span>
<span class="sd">    freeing all allocated memory.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENcloseQ</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>
<span class="c1">#--------------------------------------------</span>





<div class="viewcode-block" id="ENsaveH"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsaveH">[docs]</a><span class="k">def</span> <span class="nf">ENsaveH</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Transfers results of a hydraulic simulation </span>
<span class="sd">    from the binary Hydraulics file to the binary</span>
<span class="sd">    Output file, where results are only reported at </span>
<span class="sd">    uniform reporting intervals.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsaveH</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENsaveinpfile"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsaveinpfile">[docs]</a><span class="k">def</span> <span class="nf">ENsaveinpfile</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Writes all current network input data to a file </span>
<span class="sd">    using the format of an EPANET input file.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsaveinpfile</span><span class="p">(</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">fname</span><span class="o">.</span><span class="n">encode</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENreport"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENreport">[docs]</a><span class="k">def</span> <span class="nf">ENreport</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Writes a formatted text report on simulation results </span>
<span class="sd">    to the Report file.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENreport</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ENresetreport"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENresetreport">[docs]</a><span class="k">def</span> <span class="nf">ENresetreport</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Clears any report formatting commands </span>
<span class="sd">    </span>
<span class="sd">    that either appeared in the [REPORT] section of the </span>
<span class="sd">    EPANET Input file or were issued with the </span>
<span class="sd">    ENsetreport function&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENresetreport</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="ENsetreport"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetreport">[docs]</a><span class="k">def</span> <span class="nf">ENsetreport</span><span class="p">(</span><span class="n">command</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Issues a report formatting command. </span>
<span class="sd">    </span>
<span class="sd">    Formatting commands are the same as used in the </span>
<span class="sd">    [REPORT] section of the EPANET Input file.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetreport</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">encode</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ENsetstatusreport"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENsetstatusreport">[docs]</a><span class="k">def</span> <span class="nf">ENsetstatusreport</span><span class="p">(</span><span class="n">statuslevel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the level of hydraulic status reporting. </span>
<span class="sd">    </span>
<span class="sd">    statuslevel:  level of status reporting  </span>
<span class="sd">                  0 - no status reporting</span>
<span class="sd">                  1 - normal reporting</span>
<span class="sd">                  2 - full status reporting&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENsetstatusreport</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">statuslevel</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ENgeterror"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgeterror">[docs]</a><span class="k">def</span> <span class="nf">ENgeterror</span><span class="p">(</span><span class="n">errcode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieves the text of the message associated with a particular error or warning code.&quot;&quot;&quot;</span>
    <span class="n">errmsg</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">_err_max_char</span><span class="p">)</span>
    <span class="n">_lib</span><span class="o">.</span><span class="n">ENgeterror</span><span class="p">(</span> <span class="n">errcode</span><span class="p">,</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">errmsg</span><span class="p">),</span> <span class="n">_err_max_char</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">errmsg</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span></div>

<div class="viewcode-block" id="ENwriteline"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENwriteline">[docs]</a><span class="k">def</span> <span class="nf">ENwriteline</span><span class="p">(</span><span class="n">line</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Writes a line of text to the EPANET report file.&quot;&quot;&quot;</span>
    <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENwriteline</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span> <span class="p">))</span>
    <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ENtoolkitError"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENtoolkitError">[docs]</a><span class="k">class</span> <span class="nc">ENtoolkitError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ierr</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">warning</span><span class="o">=</span> <span class="n">ierr</span> <span class="o">&lt;</span> <span class="mi">100</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">=</span> <span class="p">(</span><span class="n">ierr</span><span class="p">,)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="o">=</span> <span class="n">ENgeterror</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="o">==</span><span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="o">=</span><span class="s1">&#39;ENtoolkit Undocumented Error &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;: look at text.h in epanet sources&#39;</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span></div>
      
      
<span class="c1">#------ functions added from OpenWaterAnalytics ----------------------------------</span>
<span class="c1"># functions not present in original Epanet2 toolkit from US EPA</span>
<span class="c1"># it may change in future versions</span>
<span class="c1">#----------------------------------------------------------------------------------</span>
<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_lib</span><span class="p">,</span><span class="s2">&quot;ENgetcurve&quot;</span><span class="p">):</span>
<div class="viewcode-block" id="ENgetcurve"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetcurve">[docs]</a>   <span class="k">def</span> <span class="nf">ENgetcurve</span><span class="p">(</span><span class="n">curveIndex</span><span class="p">):</span>
       <span class="n">curveid</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">_max_label_len</span><span class="p">)</span>
       <span class="n">nValues</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
       <span class="n">xValues</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">)()</span>
       <span class="n">yValues</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">)()</span>
       <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetcurve</span><span class="p">(</span><span class="n">curveIndex</span><span class="p">,</span>
                             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">curveid</span><span class="p">),</span>
	     	             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">nValues</span><span class="p">),</span>
	     	             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">xValues</span><span class="p">),</span>
	     	             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">yValues</span><span class="p">)</span>
		             <span class="p">)</span>
       <span class="c1"># strange behavior of ENgetcurve: it returns also curveID</span>
       <span class="c1"># better split in two distinct functions ....</span>
       <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
       <span class="n">curve</span><span class="o">=</span> <span class="p">[]</span>
       <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nValues</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
          <span class="n">curve</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">(</span><span class="n">xValues</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">yValues</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">)</span>
       <span class="k">return</span> <span class="n">curve</span></div>

<div class="viewcode-block" id="ENgetcurveid"><a class="viewcode-back" href="../../basp.html#basp.epamodule.ENgetcurveid">[docs]</a>   <span class="k">def</span> <span class="nf">ENgetcurveid</span><span class="p">(</span><span class="n">curveIndex</span><span class="p">):</span>
       <span class="n">curveid</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">_max_label_len</span><span class="p">)</span>
       <span class="n">nValues</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
       <span class="n">xValues</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">)()</span>
       <span class="n">yValues</span><span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">)()</span>
       <span class="n">ierr</span><span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">ENgetcurve</span><span class="p">(</span><span class="n">curveIndex</span><span class="p">,</span>
                             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">curveid</span><span class="p">),</span>
	     	             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">nValues</span><span class="p">),</span>
	     	             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">xValues</span><span class="p">),</span>
	     	             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">yValues</span><span class="p">)</span>
		             <span class="p">)</span>
       <span class="c1"># strange behavior of ENgetcurve: it returns also curveID</span>
       <span class="c1"># better split in two distinct functions ....</span>
       <span class="k">if</span> <span class="n">ierr</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ENtoolkitError</span><span class="p">(</span><span class="n">ierr</span><span class="p">)</span>
       <span class="k">return</span> <span class="n">curveid</span><span class="o">.</span><span class="n">value</span></div>

<span class="c1">#-----end of functions added from OpenWaterAnalytics ----------------------------------</span>


<span class="n">EN_ELEVATION</span>     <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Node parameters */</span>
<span class="n">EN_BASEDEMAND</span>    <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_PATTERN</span>       <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_EMITTER</span>       <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_INITQUAL</span>      <span class="o">=</span> <span class="mi">4</span>
<span class="n">EN_SOURCEQUAL</span>    <span class="o">=</span> <span class="mi">5</span>
<span class="n">EN_SOURCEPAT</span>     <span class="o">=</span> <span class="mi">6</span>
<span class="n">EN_SOURCETYPE</span>    <span class="o">=</span> <span class="mi">7</span>
<span class="n">EN_TANKLEVEL</span>     <span class="o">=</span> <span class="mi">8</span>
<span class="n">EN_DEMAND</span>        <span class="o">=</span> <span class="mi">9</span>
<span class="n">EN_HEAD</span>          <span class="o">=</span> <span class="mi">10</span>
<span class="n">EN_PRESSURE</span>      <span class="o">=</span> <span class="mi">11</span>
<span class="n">EN_QUALITY</span>       <span class="o">=</span> <span class="mi">12</span>
<span class="n">EN_SOURCEMASS</span>    <span class="o">=</span> <span class="mi">13</span>
<span class="n">EN_INITVOLUME</span>    <span class="o">=</span> <span class="mi">14</span>
<span class="n">EN_MIXMODEL</span>      <span class="o">=</span> <span class="mi">15</span>
<span class="n">EN_MIXZONEVOL</span>    <span class="o">=</span> <span class="mi">16</span>

<span class="n">EN_TANKDIAM</span>      <span class="o">=</span> <span class="mi">17</span>
<span class="n">EN_MINVOLUME</span>     <span class="o">=</span> <span class="mi">18</span>
<span class="n">EN_VOLCURVE</span>      <span class="o">=</span> <span class="mi">19</span>
<span class="n">EN_MINLEVEL</span>      <span class="o">=</span> <span class="mi">20</span>
<span class="n">EN_MAXLEVEL</span>      <span class="o">=</span> <span class="mi">21</span>
<span class="n">EN_MIXFRACTION</span>   <span class="o">=</span> <span class="mi">22</span>
<span class="n">EN_TANK_KBULK</span>    <span class="o">=</span> <span class="mi">23</span>

<span class="n">EN_DIAMETER</span>      <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Link parameters */</span>
<span class="n">EN_LENGTH</span>        <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_ROUGHNESS</span>     <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_MINORLOSS</span>     <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_INITSTATUS</span>    <span class="o">=</span> <span class="mi">4</span>
<span class="n">EN_INITSETTING</span>   <span class="o">=</span> <span class="mi">5</span>
<span class="n">EN_KBULK</span>         <span class="o">=</span> <span class="mi">6</span>
<span class="n">EN_KWALL</span>         <span class="o">=</span> <span class="mi">7</span>
<span class="n">EN_FLOW</span>          <span class="o">=</span> <span class="mi">8</span>
<span class="n">EN_VELOCITY</span>      <span class="o">=</span> <span class="mi">9</span>
<span class="n">EN_HEADLOSS</span>      <span class="o">=</span> <span class="mi">10</span>
<span class="n">EN_STATUS</span>        <span class="o">=</span> <span class="mi">11</span>
<span class="n">EN_SETTING</span>       <span class="o">=</span> <span class="mi">12</span>
<span class="n">EN_ENERGY</span>        <span class="o">=</span> <span class="mi">13</span>

<span class="n">EN_DURATION</span>      <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Time parameters */</span>
<span class="n">EN_HYDSTEP</span>       <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_QUALSTEP</span>      <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_PATTERNSTEP</span>   <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_PATTERNSTART</span>  <span class="o">=</span> <span class="mi">4</span>
<span class="n">EN_REPORTSTEP</span>    <span class="o">=</span> <span class="mi">5</span>
<span class="n">EN_REPORTSTART</span>   <span class="o">=</span> <span class="mi">6</span>
<span class="n">EN_RULESTEP</span>      <span class="o">=</span> <span class="mi">7</span>
<span class="n">EN_STATISTIC</span>     <span class="o">=</span> <span class="mi">8</span>
<span class="n">EN_PERIODS</span>       <span class="o">=</span> <span class="mi">9</span>

<span class="n">EN_NODECOUNT</span>     <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Component counts */</span>
<span class="n">EN_TANKCOUNT</span>     <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_LINKCOUNT</span>     <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_PATCOUNT</span>      <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_CURVECOUNT</span>    <span class="o">=</span> <span class="mi">4</span>
<span class="n">EN_CONTROLCOUNT</span>  <span class="o">=</span> <span class="mi">5</span>

<span class="n">EN_JUNCTION</span>      <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Node types */</span>
<span class="n">EN_RESERVOIR</span>     <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_TANK</span>          <span class="o">=</span> <span class="mi">2</span>

<span class="n">EN_CVPIPE</span>        <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Link types */</span>
<span class="n">EN_PIPE</span>          <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_PUMP</span>          <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_PRV</span>           <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_PSV</span>           <span class="o">=</span> <span class="mi">4</span>
<span class="n">EN_PBV</span>           <span class="o">=</span> <span class="mi">5</span>
<span class="n">EN_FCV</span>           <span class="o">=</span> <span class="mi">6</span>
<span class="n">EN_TCV</span>           <span class="o">=</span> <span class="mi">7</span>
<span class="n">EN_GPV</span>           <span class="o">=</span> <span class="mi">8</span>

<span class="n">EN_NONE</span>          <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Quality analysis types */</span>
<span class="n">EN_CHEM</span>          <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_AGE</span>           <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_TRACE</span>         <span class="o">=</span> <span class="mi">3</span>

<span class="n">EN_CONCEN</span>        <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Source quality types */</span>
<span class="n">EN_MASS</span>          <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_SETPOINT</span>      <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_FLOWPACED</span>     <span class="o">=</span> <span class="mi">3</span>

<span class="n">EN_CFS</span>           <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Flow units types */</span>
<span class="n">EN_GPM</span>           <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_MGD</span>           <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_IMGD</span>          <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_AFD</span>           <span class="o">=</span> <span class="mi">4</span>
<span class="n">EN_LPS</span>           <span class="o">=</span> <span class="mi">5</span>
<span class="n">EN_LPM</span>           <span class="o">=</span> <span class="mi">6</span>
<span class="n">EN_MLD</span>           <span class="o">=</span> <span class="mi">7</span>
<span class="n">EN_CMH</span>           <span class="o">=</span> <span class="mi">8</span>
<span class="n">EN_CMD</span>           <span class="o">=</span> <span class="mi">9</span>

<span class="n">EN_TRIALS</span>        <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Misc. options */</span>
<span class="n">EN_ACCURACY</span>      <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_TOLERANCE</span>     <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_EMITEXPON</span>     <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_DEMANDMULT</span>    <span class="o">=</span> <span class="mi">4</span>

<span class="n">EN_LOWLEVEL</span>      <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Control types */</span>
<span class="n">EN_HILEVEL</span>       <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_TIMER</span>         <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_TIMEOFDAY</span>     <span class="o">=</span> <span class="mi">3</span>

<span class="n">EN_AVERAGE</span>       <span class="o">=</span> <span class="mi">1</span>      <span class="c1"># /* Time statistic types.    */</span>
<span class="n">EN_MINIMUM</span>       <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_MAXIMUM</span>       <span class="o">=</span> <span class="mi">3</span>
<span class="n">EN_RANGE</span>         <span class="o">=</span> <span class="mi">4</span>

<span class="n">EN_MIX1</span>          <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Tank mixing models */</span>
<span class="n">EN_MIX2</span>          <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_FIFO</span>          <span class="o">=</span> <span class="mi">2</span>
<span class="n">EN_LIFO</span>          <span class="o">=</span> <span class="mi">3</span>

<span class="n">EN_NOSAVE</span>        <span class="o">=</span> <span class="mi">0</span>      <span class="c1"># /* Save-results-to-file flag */</span>
<span class="n">EN_SAVE</span>          <span class="o">=</span> <span class="mi">1</span>
<span class="n">EN_INITFLOW</span>      <span class="o">=</span> <span class="mi">10</span>     <span class="c1"># /* Re-initialize flow flag   */</span>



<span class="n">FlowUnits</span><span class="o">=</span> <span class="p">{</span> <span class="n">EN_CFS</span> <span class="p">:</span><span class="s2">&quot;cfs&quot;</span>   <span class="p">,</span>
             <span class="n">EN_GPM</span> <span class="p">:</span><span class="s2">&quot;gpm&quot;</span>   <span class="p">,</span>
             <span class="n">EN_MGD</span> <span class="p">:</span><span class="s2">&quot;a-f/d&quot;</span> <span class="p">,</span>
             <span class="n">EN_IMGD</span><span class="p">:</span><span class="s2">&quot;mgd&quot;</span>   <span class="p">,</span>
             <span class="n">EN_AFD</span> <span class="p">:</span><span class="s2">&quot;Imgd&quot;</span>  <span class="p">,</span>
             <span class="n">EN_LPS</span> <span class="p">:</span><span class="s2">&quot;L/s&quot;</span>   <span class="p">,</span>
             <span class="n">EN_LPM</span> <span class="p">:</span><span class="s2">&quot;Lpm&quot;</span>   <span class="p">,</span>
             <span class="n">EN_MLD</span> <span class="p">:</span><span class="s2">&quot;m3/h&quot;</span>  <span class="p">,</span>
             <span class="n">EN_CMH</span> <span class="p">:</span><span class="s2">&quot;m3/d&quot;</span>  <span class="p">,</span>
             <span class="n">EN_CMD</span> <span class="p">:</span><span class="s2">&quot;ML/d&quot;</span>  <span class="p">}</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">KIOS BaSP</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, KIOS CoE.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>